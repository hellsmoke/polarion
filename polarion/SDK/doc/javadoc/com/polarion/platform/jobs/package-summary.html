<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Mon Mar 13 22:39:26 CET 2017 -->
<title>com.polarion.platform.jobs</title>
<meta name="date" content="2017-03-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.polarion.platform.jobs";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/polarion/platform/i18n/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../com/polarion/platform/jobs/scheduler/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/polarion/platform/jobs/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.polarion.platform.jobs</h1>
<div class="docSummary">
<div class="block">Provides classes and interfaces for handling jobs.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/ICleanupJobUnit.html" title="interface in com.polarion.platform.jobs">ICleanupJobUnit</a></td>
<td class="colLast">
<div class="block">This job will remove work dirs of other jobs which were last modified before given time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IExecuteCommandJobUnit.html" title="interface in com.polarion.platform.jobs">IExecuteCommandJobUnit</a></td>
<td class="colLast">
<div class="block">Execute system command.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJob.html" title="interface in com.polarion.platform.jobs">IJob</a></td>
<td class="colLast">
<div class="block">Job.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.html" title="interface in com.polarion.platform.jobs">IJobDescriptor</a></td>
<td class="colLast">
<div class="block">Job (unit) descriptor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameter.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameter</a></td>
<td class="colLast">
<div class="block">Job parameter descriptor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterChoice.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterChoice</a></td>
<td class="colLast">
<div class="block">Choice.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterChoiceType.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterChoiceType</a></td>
<td class="colLast">
<div class="block">Optional "flavor" type adding choice support to any type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterGroup.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterGroup</a></td>
<td class="colLast">
<div class="block">Parameter group.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterListType.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterListType</a></td>
<td class="colLast">
<div class="block">List type (ordered list of items of same type).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterMultiChoiceType.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterMultiChoiceType</a></td>
<td class="colLast">
<div class="block">Specialized multi-choice list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterPrimitiveType.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterPrimitiveType</a></td>
<td class="colLast">
<div class="block">Primitive type (single value).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterStructureType.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterStructureType</a></td>
<td class="colLast">
<div class="block">Structure type (map).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobDescriptor.IJobParameterType.html" title="interface in com.polarion.platform.jobs">IJobDescriptor.IJobParameterType</a></td>
<td class="colLast">
<div class="block">Job parameter type.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobLogEvent.html" title="interface in com.polarion.platform.jobs">IJobLogEvent</a></td>
<td class="colLast">
<div class="block">Extension to <a href="../../../../com/polarion/platform/jobs/ILogEvent.html" title="interface in com.polarion.platform.jobs"><code>ILogEvent</code></a> which allows to track which jobs
 send what events.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobManager.html" title="interface in com.polarion.platform.jobs">IJobManager</a></td>
<td class="colLast">
<div class="block">Job manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobMultiStatus.html" title="interface in com.polarion.platform.jobs">IJobMultiStatus</a></td>
<td class="colLast">
<div class="block">Multi-status (status encapsulating zero or more other statuses).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobResource.html" title="interface in com.polarion.platform.jobs">IJobResource</a></td>
<td class="colLast">
<div class="block">Resource used for determination of what jobs can be run simultaneously.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobService.html" title="interface in com.polarion.platform.jobs">IJobService</a></td>
<td class="colLast">
<div class="block">Job service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobStateListener.html" title="interface in com.polarion.platform.jobs">IJobStateListener</a></td>
<td class="colLast">
<div class="block">Listener which will react on changes of <a href="../../../../com/polarion/platform/jobs/IJob.html#getState--"><code>IJob.getState()</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobStateNotifier.html" title="interface in com.polarion.platform.jobs">IJobStateNotifier</a></td>
<td class="colLast">
<div class="block">Common interface for everyone willing to fire notifications for <a href="../../../../com/polarion/platform/jobs/IJobStateListener.html" title="interface in com.polarion.platform.jobs"><code>IJobStateListener</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobStatus.html" title="interface in com.polarion.platform.jobs">IJobStatus</a></td>
<td class="colLast">
<div class="block">Job status (result of job's execution).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobUnit.html" title="interface in com.polarion.platform.jobs">IJobUnit</a></td>
<td class="colLast">
<div class="block">Job unit.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobUnitFactory.html" title="interface in com.polarion.platform.jobs">IJobUnitFactory</a></td>
<td class="colLast">
<div class="block">Factory for <a href="../../../../com/polarion/platform/jobs/IJobUnit.html" title="interface in com.polarion.platform.jobs"><code>IJobUnit</code></a>s (job implementations).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobUnitRepository.html" title="interface in com.polarion.platform.jobs">IJobUnitRepository</a></td>
<td class="colLast">
<div class="block">Repository of <a href="../../../../com/polarion/platform/jobs/IJobUnitFactory.html" title="interface in com.polarion.platform.jobs"><code>IJobUnitFactory</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/ILogEvent.html" title="interface in com.polarion.platform.jobs">ILogEvent</a></td>
<td class="colLast">
<div class="block">Recorded log event.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/ILogger.html" title="interface in com.polarion.platform.jobs">ILogger</a></td>
<td class="colLast">
<div class="block">Logging subsystem interface.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/ILogsCleanupJobUnit.html" title="interface in com.polarion.platform.jobs">ILogsCleanupJobUnit</a></td>
<td class="colLast">
<div class="block">This job will remove log files which are too old.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IMultiJobUnit.html" title="interface in com.polarion.platform.jobs">IMultiJobUnit</a></td>
<td class="colLast">
<div class="block">This job will execute multiple jobs at once (sequentially or in parallel).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IProgressMonitor.html" title="interface in com.polarion.platform.jobs">IProgressMonitor</a></td>
<td class="colLast">
<div class="block"><i>Leveraged directly from Eclipse:</i>
 
 The <code>IProgressMonitor</code> interface is implemented
 by objects that monitor the progress of an activity; the methods
 in this interface are invoked by code that performs the activity.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IStructuredLogMessage.html" title="interface in com.polarion.platform.jobs">IStructuredLogMessage</a></td>
<td class="colLast">
<div class="block">Structured log message for <a href="../../../../com/polarion/platform/jobs/ILogger.html" title="interface in com.polarion.platform.jobs"><code>ILogger</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IXMLRepresentable.html" title="interface in com.polarion.platform.jobs">IXMLRepresentable</a></td>
<td class="colLast">
<div class="block">Interface indicating that object can be represented as XML element.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/IJobStatus.JobStatusType.html" title="class in com.polarion.platform.jobs">IJobStatus.JobStatusType</a></td>
<td class="colLast">
<div class="block">Job status type "enumeration".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/ILogEvent.LogEventSeverity.html" title="class in com.polarion.platform.jobs">ILogEvent.LogEventSeverity</a></td>
<td class="colLast">
<div class="block">Log event severity "enumeration".</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/JobState.html" title="class in com.polarion.platform.jobs">JobState</a></td>
<td class="colLast">
<div class="block">Job state "enumeration".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/MultiJobExecutionRequest.html" title="class in com.polarion.platform.jobs">MultiJobExecutionRequest</a></td>
<td class="colLast">
<div class="block">Multi-job execution request.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/GenericJobException.html" title="class in com.polarion.platform.jobs">GenericJobException</a></td>
<td class="colLast">
<div class="block">Generic jobs-related exception.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/polarion/platform/jobs/InaccessibleJobException.html" title="class in com.polarion.platform.jobs">InaccessibleJobException</a></td>
<td class="colLast">
<div class="block">Can be thrown when invoking methods on an inaccessible job.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package com.polarion.platform.jobs Description">Package com.polarion.platform.jobs Description</h2>
<div class="block">Provides classes and interfaces for handling jobs.

<h2>Usage Scenarios</h2>

<h3>Simple job without parameters</h3>

Let's say we want to provide job named <b>my.job</b> (convention says that
job name has logical components delimited by periods).
This job will not be configurable (or even visible) by job configuration UI
(like scheduler UI or similar).

<h4>Step 1 - provide job unit</h4>

We will provide job based on <a href="../../../../com/polarion/platform/jobs/spi/AbstractJobUnit.html" title="class in com.polarion.platform.jobs.spi"><code>AbstractJobUnit</code></a>, because
it implements everything we need:

<pre>
  private class MyJobUnit extends AbstractJobUnit {
  
     public int getWorkLength() {
         // can be based on some parameters and set during <code>activate()</code>
         return 10;
     }
  
     protected void runInternal(IProgressMonitor progress) {
       getLogger().info("Started");
       try {
         progress.beginTask("Starting", 0); // totalWork is ignored
         // since getWorkLength() returns 10 we must work at most 10 work units
         for (int i = 1; i <= 10; i++) {
           if (progress.isCanceled()) {
             return getStatusCancelled("Cancelled");
           }
           progress.subtask("Tick number " + i);
           // here some work can be done, possibly with temporary output written to getWorkDir()
           progress.worked(1);
         }
       } catch (Exception e) {
         return getStatusFailed("Failure", e);
       } finally {
         progress.setTaskName("Finished");
         progress.done();
       }
       return getStatusOK("Success");
     }
  
  }
</pre>

<h4>Step 2 - register proper factory for your job unit</h4>

Place into some <tt>hivemodule.xml</tt>:

<pre>
        &lt;contribution configuration-id="com.polarion.platform.jobs.configuration"&gt;
                &lt;jobUnitFactory name="my.job" factory="myJobUnitFactory"/&gt;
        &lt;/contribution&gt;
        
        &lt;service-point id="myJobUnitFactory" interface="com.polarion.platform.jobs.IJobUnitFactory"&gt;
                &lt;invoke-factory&gt;
                        &lt;construct class="com.polarion.platform.jobs.spi.GenericJobUnitFactory"&gt;
                                &lt;string&gt;my.job&lt;/string&gt;
                                &lt;string&gt;My Job&lt;/string&gt;
                                &lt;object&gt;class:package.MyJobUnit&lt;/object&gt;
                        &lt;/construct&gt;
                &lt;/invoke-factory&gt;
        &lt;/service-point&gt;
</pre>

This will register new job unit factory for job unit <b>my.job</b> creating instances of
<code>package.MyJobUnit</code>.

<h4>Step 3 - spawn job based on your job unit</h4>

<pre>
  IJobService jobService = ...;
  IJobManager mgr = jobService.getJobManager();
  IJobUnitRepository repo = jobService.getJobUnitRepository();
  IJobUnit unit = (IJobUnit) repo.getJobUnitFactory("my.job")
    .createJobUnit("My job started at " + System.currentTimeMillis());
  IJob job = mgr.spawnJob(unit, null);
  job.schedule();
  // now the activation phase finished (see next usage scenarios) and job started (or is waiting for start)
  // we can wait for the job to end or just leave it alone and use state listeners on <a href="../../../../com/polarion/platform/jobs/IJob.html" title="interface in com.polarion.platform.jobs"><code>IJob</code></a>
  job.join();
  // now the job finished and its status can be inspected
  if (job.getStatus().getType() != JobStatusType.STATUS_TYPE_OK) {
    // deal with failure
  }
</pre>

<h4>Names explained</h4>

Jobs have various names (all are required):

<dl>
<dt>job factory name</dt>
<dd>
Returned from <code>IJobUnitFactory.getName()</code> and passed to
<code>IJobUnitRepository.getJobUnitFactory()</code>. Is kind of job unit class name (but more human-readable).
Should be unique (although that fact is not checked).
Examples are "master.build", "cleanup".
</dd>
<dt>job name</dt>
<dd>
Returned from <code>IJobUnit.getName()</code> and <code>IJob.getName()</code>.
Name of given instance of job unit (and thus the whole job).
Should be short, human-readable and contain some information based on job's configuration.
Is immutable during job's life.
Examples are "Build of org.polarion.subversive", "Cleanup of /tmp".
</dd>
<dt>job label</dt>
<dd>
Returned from <code>IJobDescriptor.getLabel()</code>.
Short, human-readable name of given job unit. Kind of job factory name, but even more human-readable.
Is visible in job configuration UI (like scheduler UI).
Examples are "Project builds", "Directory cleanup".
</dd>
</dl>

<h3>Job with typed interface</h3>

It is considered good practice to provide typed interface for job units if those jobs
have some parameters:

<pre>
  public interface IMyJobUnit extends IJobUnit {
    
    public static final String JOB_NAME = "my.job";
    
    void setSomeParameter(String value);
    String getSomeResult();
    ...
    
  }
  
  private class MyJobUnit extends AbstractJobUnit implements IMyJobUnit {
  
     private String someParameter;
     private String someResult;
  
     public void setSomeParameter(String value) {
       someParameter = value;
     }
     
     public String getSomeResult() {
       return someResult;
     }
  
     public void activate() {
       // check parameters
       if (someParameter == null) {
         throw new IllegalArgumentException("setSomeParameter() was not called");
       }
       ...
     }
     
     protected void runInternal(...) {
       ...
       // set results (of course this can be set even during activation or at start of runInternal())
       someResult = ...;
       return getStatusOK(...);
     }
  
  }
</pre>

Those who want to spawn jobs based on this job unit may do this:

<pre>
  IJobService jobService = ...;
  IJobManager mgr = jobService.getJobManager();
  IJobUnitRepository repo = jobService.getJobUnitRepository();
  IMyJobUnit unit = (IMyJobUnit) repo.getJobUnitFactory(IMyJobUnit.JOB_NAME).createJobUnit(...);
  unit.setSomeParameter(...);
  IJob job = mgr.spawnJob(unit, null);
  job.schedule();
  // let's wait for the result
  job.join();
  return job.getSomeResult();
</pre>

<h3>Job with dependencies</h3>

Job may depend on arbitrary number of other jobs (which are called <i>child jobs</i>).

<pre>
  public void activate() {
    IJobUnit unit = ...; // normal job unit creation using some job unit factory
    unit.setWorkDir(getWorkDir()); // pass it the same work dir
    getJob().getJobManager().spawnJob(unit, getJob());
    ...
  }
</pre>

Child jobs can be spawned only inside <code>activate()</code>.

Parent job's <code>run()</code> will be executed after child jobs complete regardless of their status.
Job units based on <a href="../../../../com/polarion/platform/jobs/spi/AbstractJobUnit.html" title="class in com.polarion.platform.jobs.spi"><code>AbstractJobUnit</code></a>
will get their <code>runInternal()</code> executed only if all child jobs
finish successfully.

<h3>Job with resource locking</h3>

Job may lock resources to which it wants to have exclusive access.
Job manager will ensure that no two jobs claiming the same resource
(or, better said, conflicting resources) run at the same time.
Resources are locked since the first child runs until the job is finished.
Resources locked by children are automatically locked by parents.

<pre>
  public void activate() {
    IJobResource resource = new SomeJobResourceImplementation(...);
    getJob().addResource(resource);
    ...
  }
</pre>

Resources can be locked only inside <code>activate()</code>.

<h3>Platform-aware job</h3>

For more complicated jobs, especially those who want to have injected services and configuration,
special <code>IJobUnitFactory</code> should be created and job unit placed as nested non-static class
with access to factory's injected parameters. Example:

<pre>
  public class MyJobUnitFactory implements IJobUnitFactory {
  
    protected ISomeService someService;
    
    public void setSomeService(ISomeService someService) {
      this.someService = someService;
    }
  
    private class MyJobUnit extends AbstractJobUnit {
      
     protected void runInternal(...) {
       ...
       someService.someMethod();
       ...
     }
    
    }
  
    public IJobUnit createJobUnit(String name) throws GenericJobException {
      return new MyJobUnit(name, this);
    }
  
  }
</pre>

<code>ISomeService</code> can be auto-wired or set explicitly in <tt>hivemodule.xml</tt>:

<pre>
        &lt;service-point id="myJobUnitFactory" interface="com.polarion.platform.jobs.IJobUnitFactory"&gt;
                &lt;invoke-factory&gt;
                        &lt;construct class="package.MyJobUnitFactory"&gt;
                          &lt;set-service property="someService" service-id="someServiceId"/&gt;
                        &lt;/construct&gt;
                &lt;/invoke-factory&gt;
        &lt;/service-point&gt;
</pre></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/polarion/platform/i18n/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../com/polarion/platform/jobs/scheduler/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/polarion/platform/jobs/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
